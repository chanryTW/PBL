<ion-view title="分組狀態" hide-back-button="true" id="root_group">
  <ion-content padding="false" style="background: url(img/001.png) no-repeat center;background-size:cover;" class="has-header" scroll="true"><div class="maxWidth">
    
    <div class="button-bar">
      <a class="button button-block button-dark" ng-repeat="Class in AllClass" ng-click="choose_class(Class.ClassID,Class.ClassName)">{{Class.ClassName}}</a>
    </div>

    <div class="card" ng-show="cardShow" >
      <div class="item item-divider">
        【{{thisClass.ClassName}}】分組設定（請點按鈕更新）：
      </div>
      <ion-toggle ng-model="thisClass.inviteLock" ng-checked="thisClass.inviteLock" ng-change="LockGroupChange(thisClass.ClassID,thisClass.inviteLock)">開放學生自行分組</ion-toggle>
      <label class="item item-input">
        <div class="input-label">
          小組人數上限
        </div>
        <input type="number" ng-model="thisClass.maxMembers" ng-change="maxMembersChange(thisClass.ClassID,thisClass.maxMembers)">
      </label>
    </div>

    <div class="card" ng-show="cardShow">
      <div ng-repeat="Allgroup in Allgroups">
        <div class="item item-divider">
          【{{Allgroup.ClassName}}】分組狀態：
        </div>
        <h4 style="padding:10px;"><b>未分組名單：</b></h4>
        <p style="padding:10px;">{{Allgroup.Ngroup}}</p>
        <h4 style="text-align: center;">已分組：{{Allgroup.Ygroup.length}} 尚未分組：{{Allgroup.Ngroup.length}}</h4>
      </div>
      <canvas id="container"></canvas>
    </div>

    <div class="card" ng-show="cardShow" ng-repeat="Allgroup2 in Allgroups2">
        <div class="item item-divider">
          【{{Allgroup2.members.length}}人】{{Allgroup2.leader}}：
        </div>
        <p style="padding:10px;">{{Allgroup2.members}}</p>
    </div>

  </div></ion-content>
</ion-view>